"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[163],{16823:function($,E,r){r.r(E);var S=r(5574),g=r.n(S),P=r(62435),M=r(97475),V=r(23323),c=r(14726),N=r(86703),b=r(2058),I=r(55191),F=r(22662),j=r.n(F),B=r(1210),L=r(88484),_=r(74855),z=r.n(_),w=r(26229),i=r(86074),h=`[/Script/Pal.PalGameWorldSettings]
OptionSettings=(%)
`,U='Difficulty=None,DayTimeSpeedRate=1.000000,NightTimeSpeedRate=1.000000,ExpRate=1.000000,PalCaptureRate=1.000000,PalSpawnNumRate=1.000000,PalDamageRateAttack=1.000000,PalDamageRateDefense=1.000000,PlayerDamageRateAttack=1.000000,PlayerDamageRateDefense=1.000000,PlayerStomachDecreaceRate=1.000000,PlayerStaminaDecreaceRate=1.000000,PlayerAutoHPRegeneRate=1.000000,PlayerAutoHpRegeneRateInSleep=1.000000,PalStomachDecreaceRate=1.000000,PalStaminaDecreaceRate=1.000000,PalAutoHPRegeneRate=1.000000,PalAutoHpRegeneRateInSleep=1.000000,BuildObjectDamageRate=1.000000,BuildObjectDeteriorationDamageRate=1.000000,CollectionDropRate=1.000000,CollectionObjectHpRate=1.000000,CollectionObjectRespawnSpeedRate=1.000000,EnemyDropItemRate=1.000000,DeathPenalty=All,bEnablePlayerToPlayerDamage=False,bEnableFriendlyFire=False,bEnableInvaderEnemy=True,bActiveUNKO=False,bEnableAimAssistPad=True,bEnableAimAssistKeyboard=False,DropItemMaxNum=3000,DropItemMaxNum_UNKO=100,BaseCampMaxNum=128,BaseCampWorkerMaxNum=15,DropItemAliveMaxHours=1.000000,bAutoResetGuildNoOnlinePlayers=False,AutoResetGuildTimeNoOnlinePlayers=72.000000,GuildPlayerMaxNum=20,PalEggDefaultHatchingTime=72.000000,WorkSpeedRate=1.000000,bIsMultiplay=False,bIsPvP=False,bCanPickupOtherGuildDeathPenaltyDrop=False,bEnableNonLoginPenalty=True,bEnableFastTravel=True,bIsStartLocationSelectByMap=True,bExistPlayerAfterLogout=False,bEnableDefenseOtherGuildPlayer=False,CoopPlayerMaxNum=4,ServerPlayerMaxNum=32,ServerName="Default Palworld Server",ServerDescription="",AdminPassword="",ServerPassword="",PublicPort=8211,PublicIP="",RCONEnabled=False,RCONPort=25575,Region="",bUseAuth=True,BanListURL="https://api.palworldgame.com/api/banlist.txt"',K=function(){var W=M.Z.useApp(),A=W.message,H=V.Z.useForm(),G=g()(H,1),v=G[0],f=(0,w.useIntl)(),R=(0,P.useMemo)(function(){for(var n=[{title:"Difficulty",name:"Difficulty",initialValue:"None"},{title:"DayTimeSpeedRate",name:"DayTimeSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"NightTimeSpeedRate",name:"NightTimeSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"ExpRate",name:"ExpRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalCaptureRate",name:"PalCaptureRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalSpawnNumRate",name:"PalSpawnNumRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalDamageRateAttack",name:"PalDamageRateAttack",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalDamageRateDefense",name:"PalDamageRateDefense",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerDamageRateAttack",name:"PlayerDamageRateAttack",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerDamageRateDefense",name:"PlayerDamageRateDefense",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerStomachDecreaceRate",name:"PlayerStomachDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerStaminaDecreaceRate",name:"PlayerStaminaDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerAutoHPRegeneRate",name:"PlayerAutoHPRegeneRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerAutoHpRegeneRateInSleep",name:"PlayerAutoHpRegeneRateInSleep",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalStomachDecreaceRate",name:"PalStomachDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalStaminaDecreaceRate",name:"PalStaminaDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalAutoHPRegeneRate",name:"PalAutoHPRegeneRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalAutoHpRegeneRateInSleep",name:"PalAutoHpRegeneRateInSleep",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"BuildObjectDamageRate",name:"BuildObjectDamageRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"BuildObjectDeteriorationDamageRate",name:"BuildObjectDeteriorationDamageRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"CollectionDropRate",name:"CollectionDropRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"CollectionObjectHpRate",name:"CollectionObjectHpRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"CollectionObjectRespawnSpeedRate",name:"CollectionObjectRespawnSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"EnemyDropItemRate",name:"EnemyDropItemRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"DeathPenalty",name:"DeathPenalty",initialValue:"All",valueType:"select",valueEnum:{All:"All",Item:"Item",ItemAndEquipment:"ItemAndEquipment",None:"None"}},{title:"bEnablePlayerToPlayerDamage",name:"bEnablePlayerToPlayerDamage",valueType:"switch",initialValue:!1},{title:"bEnableFriendlyFire",name:"bEnableFriendlyFire",valueType:"switch",initialValue:!1},{title:"bEnableInvaderEnemy",name:"bEnableInvaderEnemy",valueType:"switch",initialValue:!0},{title:"bActiveUNKO",name:"bActiveUNKO",valueType:"switch",initialValue:!1},{title:"bEnableAimAssistPad",name:"bEnableAimAssistPad",valueType:"switch",initialValue:!0},{title:"bEnableAimAssistKeyboard",name:"bEnableAimAssistKeyboard",valueType:"switch",initialValue:!1},{title:"DropItemMaxNum",name:"DropItemMaxNum",valueType:"digit",initialValue:3e3},{title:"DropItemMaxNum_UNKO",name:"DropItemMaxNum_UNKO",valueType:"digit",initialValue:100},{title:"BaseCampMaxNum",name:"BaseCampMaxNum",valueType:"digit",initialValue:128},{title:"BaseCampWorkerMaxNum",name:"BaseCampWorkerMaxNum",valueType:"digit",initialValue:15},{title:"DropItemAliveMaxHours",name:"DropItemAliveMaxHours",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"bAutoResetGuildNoOnlinePlayers",name:"bAutoResetGuildNoOnlinePlayers",valueType:"switch",initialValue:!1},{title:"AutoResetGuildTimeNoOnlinePlayers",name:"AutoResetGuildTimeNoOnlinePlayers",valueType:"digit",initialValue:72,fieldProps:{step:"0.000001"}},{title:"GuildPlayerMaxNum",name:"GuildPlayerMaxNum",valueType:"digit",initialValue:20},{title:"PalEggDefaultHatchingTime",name:"PalEggDefaultHatchingTime",valueType:"digit",initialValue:72,fieldProps:{step:"0.000001"}},{title:"WorkSpeedRate",name:"WorkSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"bIsMultiplay",name:"bIsMultiplay",valueType:"switch",initialValue:!1},{title:"bIsPvP",name:"bIsPvP",valueType:"switch",initialValue:!1},{title:"bCanPickupOtherGuildDeathPenaltyDrop",name:"bCanPickupOtherGuildDeathPenaltyDrop",valueType:"switch",initialValue:!1},{title:"bEnableNonLoginPenalty",name:"bEnableNonLoginPenalty",valueType:"switch",initialValue:!0},{title:"bEnableFastTravel",name:"bEnableFastTravel",valueType:"switch",initialValue:!0},{title:"bIsStartLocationSelectByMap",name:"bIsStartLocationSelectByMap",valueType:"switch",initialValue:!0},{title:"bExistPlayerAfterLogout",name:"bExistPlayerAfterLogout",valueType:"switch",initialValue:!1},{title:"bEnableDefenseOtherGuildPlayer",name:"bEnableDefenseOtherGuildPlayer",valueType:"switch",initialValue:!1},{title:"CoopPlayerMaxNum",name:"CoopPlayerMaxNum",valueType:"digit",initialValue:4},{title:"ServerPlayerMaxNum",name:"ServerPlayerMaxNum",valueType:"digit",initialValue:32},{title:"ServerName",name:"ServerName",valueType:"text",initialValue:"Default Palworld Server"},{title:"ServerDescription",name:"ServerDescription",valueType:"text",initialValue:""},{title:"AdminPassword",name:"AdminPassword",valueType:"text",initialValue:""},{title:"ServerPassword",name:"ServerPassword",valueType:"text",initialValue:""},{title:"PublicPort",name:"PublicPort",valueType:"digit",initialValue:8211},{title:"\u516C\u7F51IP",tooltip:"PublicIP",name:"PublicIP",valueType:"text",initialValue:""},{title:"RCONEnabled",name:"RCONEnabled",valueType:"switch",initialValue:!1},{title:"RCONPort",name:"RCONPort",valueType:"digit",initialValue:25575},{title:"Region",name:"Region",valueType:"text",initialValue:""},{title:"bUseAuth",name:"bUseAuth",valueType:"switch",initialValue:!0},{title:"BanListURL",name:"BanListURL",valueType:"text",initialValue:"https://api.palworldgame.com/api/banlist.txt"}],e=0;e<n.length;e++){var l=n[e],t=f.formatMessage({id:l.name});if(l.valueType==="select"){var a,u=(a=n[e])===null||a===void 0?void 0:a.valueEnum;for(var s in u)if(u.hasOwnProperty(s)){var y=u==null?void 0:u[s];if(y){var d=f.formatMessage({id:"".concat(l.name,".").concat(s)});d!==y&&(u[s]=d)}}n[e].valueEnum=u}t!==l.name&&(n[e].title=t,n[e].tooltip=l.name)}return n},[f]),Z=(0,P.useState)(h.replace("%",U)),x=g()(Z,2),C=x[0],O=x[1],k=(0,P.useCallback)(function(n){var e=R.map(function(l){var t=l.name,a=n==null?void 0:n[t],u=l.valueType;if(u==="switch")return a?"".concat(t,"=True"):"".concat(t,"=False");if(u==="digit"){var s;return a===0||!a?"".concat(t,"=0"):(l==null||(s=l.fieldProps)===null||s===void 0?void 0:s.step)==="0.000001"?"".concat(t,"=").concat(parseFloat(a).toFixed(6)):"".concat(t,"=").concat(parseInt(a))}else return u==="text"?"".concat(t,'="').concat(a,'"'):"".concat(t,"=").concat(a)}).join(",");O(h.replace("%",e))},[]),D=(0,P.useCallback)(function(n){var e;O(n);var l=j().parse(n),t=l==null||(e=l["/Script/Pal"])===null||e===void 0||(e=e.PalGameWorldSettings)===null||e===void 0?void 0:e.OptionSettings;if(!t||!/^\(.*\)$/.test(t)){A.error("\u914D\u7F6E\u6587\u4EF6\u683C\u5F0F\u9519\u8BEF");return}t=t.substring(1,t.length-1),v.resetFields();var a={};t.split(",").forEach(function(u){var s,y=u.split("="),d=g()(y,2),o=d[0],p=d[1],m=(s=R.filter(function(T){return(T==null?void 0:T.name)===o}))===null||s===void 0?void 0:s[0];m&&(m.valueType==="switch"?a[o]=p==="True":m.valueType==="digit"?a[o]=parseFloat(p).toFixed(6):m.valueType==="text"?a[o]=p.substring(1,p.length-1):(m.valueType,a[o]=p))}),v.setFieldsValue(a)},[v]);return(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsxs)("div",{className:"w-192",children:[(0,i.jsxs)("div",{className:"py-3 text-center font-semibold text-2xl",children:[(0,i.jsx)("div",{children:"Palworld \u5E7B\u517D\u5E15\u9C81"}),(0,i.jsx)("div",{children:"ini\u914D\u7F6E\u6587\u4EF6\u7F16\u8F91\u5668"})]}),(0,i.jsx)("div",{className:"py-2 text-center",children:(0,i.jsx)(c.ZP,{icon:(0,i.jsx)(B.Z,{}),href:"https://github.com/liziyi0914/PalworldServerConfigEditor",children:"Github"})}),(0,i.jsx)("div",{children:(0,i.jsx)(N.Z.TextArea,{placeholder:"\u914D\u7F6E\u6587\u4EF6",value:C,onChange:function(e){return D(e.target.value)}})}),(0,i.jsxs)("div",{className:"py-2 flex justify-center gap-2",children:[(0,i.jsx)(b.Z,{accept:".ini",beforeUpload:function(e){var l=new FileReader;return l.onload=function(t){var a,u=(a=t.target)===null||a===void 0?void 0:a.result;D(u)},l.readAsText(e),b.Z.LIST_IGNORE},children:(0,i.jsx)(c.ZP,{icon:(0,i.jsx)(L.Z,{}),children:"\u4E0A\u4F20"})}),(0,i.jsx)(c.ZP,{onClick:function(){navigator.clipboard.readText().then(function(e){D(e)})},children:"\u7C98\u8D34"}),(0,i.jsx)(_.CopyToClipboard,{text:C,onCopy:function(){return A.success("\u590D\u5236\u6210\u529F")},children:(0,i.jsx)(c.ZP,{type:"primary",children:"\u590D\u5236"})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(I.Z,{form:v,autoFocus:!1,submitter:!1,layout:"horizontal",labelCol:{span:12},wrapperCol:{span:12},columns:R,onValuesChange:function(e,l){k(l)}})})]})})};E.default=K}}]);
