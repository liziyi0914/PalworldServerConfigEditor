"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[163],{16823:function(J,b,n){n.r(b);var M=n(5574),f=n.n(M),P=n(62435),S=n(97475),V=n(23323),d=n(14726),N=n(86703),_=n(31365),I=n(96074),j=n(81356),F=n(22662),L=n.n(F),B=n(1210),U=n(88484),w=n(23430),h=n(74855),Q=n.n(h),K=n(26229),l=n(86074),A=`[/Script/Pal.PalGameWorldSettings]
OptionSettings=(%)
`,W='Difficulty=None,DayTimeSpeedRate=1.000000,NightTimeSpeedRate=1.000000,ExpRate=1.000000,PalCaptureRate=1.000000,PalSpawnNumRate=1.000000,PalDamageRateAttack=1.000000,PalDamageRateDefense=1.000000,PlayerDamageRateAttack=1.000000,PlayerDamageRateDefense=1.000000,PlayerStomachDecreaceRate=1.000000,PlayerStaminaDecreaceRate=1.000000,PlayerAutoHPRegeneRate=1.000000,PlayerAutoHpRegeneRateInSleep=1.000000,PalStomachDecreaceRate=1.000000,PalStaminaDecreaceRate=1.000000,PalAutoHPRegeneRate=1.000000,PalAutoHpRegeneRateInSleep=1.000000,BuildObjectDamageRate=1.000000,BuildObjectDeteriorationDamageRate=1.000000,CollectionDropRate=1.000000,CollectionObjectHpRate=1.000000,CollectionObjectRespawnSpeedRate=1.000000,EnemyDropItemRate=1.000000,DeathPenalty=All,bEnablePlayerToPlayerDamage=False,bEnableFriendlyFire=False,bEnableInvaderEnemy=True,bActiveUNKO=False,bEnableAimAssistPad=True,bEnableAimAssistKeyboard=False,DropItemMaxNum=3000,DropItemMaxNum_UNKO=100,BaseCampMaxNum=128,BaseCampWorkerMaxNum=15,DropItemAliveMaxHours=1.000000,bAutoResetGuildNoOnlinePlayers=False,AutoResetGuildTimeNoOnlinePlayers=72.000000,GuildPlayerMaxNum=20,PalEggDefaultHatchingTime=72.000000,WorkSpeedRate=1.000000,bIsMultiplay=False,bIsPvP=False,bCanPickupOtherGuildDeathPenaltyDrop=False,bEnableNonLoginPenalty=True,bEnableFastTravel=True,bIsStartLocationSelectByMap=True,bExistPlayerAfterLogout=False,bEnableDefenseOtherGuildPlayer=False,CoopPlayerMaxNum=4,ServerPlayerMaxNum=32,ServerName="Default Palworld Server",ServerDescription="",AdminPassword="",ServerPassword="",PublicPort=8211,PublicIP="",RCONEnabled=False,RCONPort=25575,Region="",bUseAuth=True,BanListURL="https://api.palworldgame.com/api/banlist.txt"',H=function(){var G=S.Z.useApp(),x=G.message,Z=V.Z.useForm(),k=f()(Z,1),v=k[0],g=(0,K.useIntl)(),R=(0,P.useMemo)(function(){for(var r=[{title:"Difficulty",name:"Difficulty",initialValue:"None"},{title:"DayTimeSpeedRate",name:"DayTimeSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"NightTimeSpeedRate",name:"NightTimeSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"ExpRate",name:"ExpRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalCaptureRate",name:"PalCaptureRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalSpawnNumRate",name:"PalSpawnNumRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalDamageRateAttack",name:"PalDamageRateAttack",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalDamageRateDefense",name:"PalDamageRateDefense",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerDamageRateAttack",name:"PlayerDamageRateAttack",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerDamageRateDefense",name:"PlayerDamageRateDefense",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerStomachDecreaceRate",name:"PlayerStomachDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerStaminaDecreaceRate",name:"PlayerStaminaDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerAutoHPRegeneRate",name:"PlayerAutoHPRegeneRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PlayerAutoHpRegeneRateInSleep",name:"PlayerAutoHpRegeneRateInSleep",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalStomachDecreaceRate",name:"PalStomachDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalStaminaDecreaceRate",name:"PalStaminaDecreaceRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalAutoHPRegeneRate",name:"PalAutoHPRegeneRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"PalAutoHpRegeneRateInSleep",name:"PalAutoHpRegeneRateInSleep",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"BuildObjectDamageRate",name:"BuildObjectDamageRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"BuildObjectDeteriorationDamageRate",name:"BuildObjectDeteriorationDamageRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"CollectionDropRate",name:"CollectionDropRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"CollectionObjectHpRate",name:"CollectionObjectHpRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"CollectionObjectRespawnSpeedRate",name:"CollectionObjectRespawnSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"EnemyDropItemRate",name:"EnemyDropItemRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"DeathPenalty",name:"DeathPenalty",initialValue:"All",valueType:"select",valueEnum:{All:"All",Item:"Item",ItemAndEquipment:"ItemAndEquipment",None:"None"}},{title:"bEnablePlayerToPlayerDamage",name:"bEnablePlayerToPlayerDamage",valueType:"switch",initialValue:!1},{title:"bEnableFriendlyFire",name:"bEnableFriendlyFire",valueType:"switch",initialValue:!1},{title:"bEnableInvaderEnemy",name:"bEnableInvaderEnemy",valueType:"switch",initialValue:!0},{title:"bActiveUNKO",name:"bActiveUNKO",valueType:"switch",initialValue:!1},{title:"bEnableAimAssistPad",name:"bEnableAimAssistPad",valueType:"switch",initialValue:!0},{title:"bEnableAimAssistKeyboard",name:"bEnableAimAssistKeyboard",valueType:"switch",initialValue:!1},{title:"DropItemMaxNum",name:"DropItemMaxNum",valueType:"digit",initialValue:3e3},{title:"DropItemMaxNum_UNKO",name:"DropItemMaxNum_UNKO",valueType:"digit",initialValue:100},{title:"BaseCampMaxNum",name:"BaseCampMaxNum",valueType:"digit",initialValue:128},{title:"BaseCampWorkerMaxNum",name:"BaseCampWorkerMaxNum",valueType:"digit",initialValue:15},{title:"DropItemAliveMaxHours",name:"DropItemAliveMaxHours",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"bAutoResetGuildNoOnlinePlayers",name:"bAutoResetGuildNoOnlinePlayers",valueType:"switch",initialValue:!1},{title:"AutoResetGuildTimeNoOnlinePlayers",name:"AutoResetGuildTimeNoOnlinePlayers",valueType:"digit",initialValue:72,fieldProps:{step:"0.000001"}},{title:"GuildPlayerMaxNum",name:"GuildPlayerMaxNum",valueType:"digit",initialValue:20},{title:"PalEggDefaultHatchingTime",name:"PalEggDefaultHatchingTime",valueType:"digit",initialValue:72,fieldProps:{step:"0.000001"}},{title:"WorkSpeedRate",name:"WorkSpeedRate",valueType:"digit",initialValue:1,fieldProps:{step:"0.000001"}},{title:"bIsMultiplay",name:"bIsMultiplay",valueType:"switch",initialValue:!1},{title:"bIsPvP",name:"bIsPvP",valueType:"switch",initialValue:!1},{title:"bCanPickupOtherGuildDeathPenaltyDrop",name:"bCanPickupOtherGuildDeathPenaltyDrop",valueType:"switch",initialValue:!1},{title:"bEnableNonLoginPenalty",name:"bEnableNonLoginPenalty",valueType:"switch",initialValue:!0},{title:"bEnableFastTravel",name:"bEnableFastTravel",valueType:"switch",initialValue:!0},{title:"bIsStartLocationSelectByMap",name:"bIsStartLocationSelectByMap",valueType:"switch",initialValue:!0},{title:"bExistPlayerAfterLogout",name:"bExistPlayerAfterLogout",valueType:"switch",initialValue:!1},{title:"bEnableDefenseOtherGuildPlayer",name:"bEnableDefenseOtherGuildPlayer",valueType:"switch",initialValue:!1},{title:"CoopPlayerMaxNum",name:"CoopPlayerMaxNum",valueType:"digit",initialValue:4},{title:"ServerPlayerMaxNum",name:"ServerPlayerMaxNum",valueType:"digit",initialValue:32},{title:"ServerName",name:"ServerName",valueType:"text",initialValue:"Default Palworld Server"},{title:"ServerDescription",name:"ServerDescription",valueType:"text",initialValue:""},{title:"AdminPassword",name:"AdminPassword",valueType:"text",initialValue:""},{title:"ServerPassword",name:"ServerPassword",valueType:"text",initialValue:""},{title:"PublicPort",name:"PublicPort",valueType:"digit",initialValue:8211},{title:"\u516C\u7F51IP",tooltip:"PublicIP",name:"PublicIP",valueType:"text",initialValue:""},{title:"RCONEnabled",name:"RCONEnabled",valueType:"switch",initialValue:!1},{title:"RCONPort",name:"RCONPort",valueType:"digit",initialValue:25575},{title:"Region",name:"Region",valueType:"text",initialValue:""},{title:"bUseAuth",name:"bUseAuth",valueType:"switch",initialValue:!0},{title:"BanListURL",name:"BanListURL",valueType:"text",initialValue:"https://api.palworldgame.com/api/banlist.txt"}],t=0;t<r.length;t++){var i=r[t],e=g.formatMessage({id:i.name});if(i.valueType==="select"){var a,u=(a=r[t])===null||a===void 0?void 0:a.valueEnum;for(var o in u)if(u.hasOwnProperty(o)){var y=u==null?void 0:u[o];if(y){var m=g.formatMessage({id:"".concat(i.name,".").concat(o)});m!==y&&(u[o]=m)}}r[t].valueEnum=u}e!==i.name&&(r[t].title=e,r[t].tooltip=i.name)}return r},[g]),$=(0,P.useState)(A.replace("%",W)),C=f()($,2),D=C[0],O=C[1],z=(0,P.useCallback)(function(r){var t=R.map(function(i){var e=i.name,a=r==null?void 0:r[e],u=i.valueType;if(u==="switch")return a?"".concat(e,"=True"):"".concat(e,"=False");if(u==="digit"){var o;return a===0||!a?"".concat(e,"=0"):(i==null||(o=i.fieldProps)===null||o===void 0?void 0:o.step)==="0.000001"?"".concat(e,"=").concat(parseFloat(a).toFixed(6)):"".concat(e,"=").concat(parseInt(a))}else return u==="text"?"".concat(e,'="').concat(a,'"'):"".concat(e,"=").concat(a)}).join(",");O(A.replace("%",t))},[]),E=(0,P.useCallback)(function(r){var t;O(r);var i=L().parse(r),e=i==null||(t=i["/Script/Pal"])===null||t===void 0||(t=t.PalGameWorldSettings)===null||t===void 0?void 0:t.OptionSettings;if(!e||!/^\(.*\)$/.test(e)){x.error("\u914D\u7F6E\u6587\u4EF6\u683C\u5F0F\u9519\u8BEF");return}e=e.substring(1,e.length-1),v.resetFields();var a={};e.split(",").forEach(function(u){var o,y=u.split("="),m=f()(y,2),s=m[0],p=m[1],c=(o=R.filter(function(T){return(T==null?void 0:T.name)===s}))===null||o===void 0?void 0:o[0];c&&(c.valueType==="switch"?a[s]=p==="True":c.valueType==="digit"?a[s]=parseFloat(p).toFixed(6):c.valueType==="text"?a[s]=p.substring(1,p.length-1):(c.valueType,a[s]=p))}),v.setFieldsValue(a)},[v]);return(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("div",{className:"w-192",children:[(0,l.jsxs)("div",{className:"py-3 text-center font-semibold text-2xl",children:[(0,l.jsx)("div",{children:"Palworld \u5E7B\u517D\u5E15\u9C81"}),(0,l.jsx)("div",{children:"ini\u914D\u7F6E\u6587\u4EF6\u7F16\u8F91\u5668"})]}),(0,l.jsx)("div",{className:"py-2 text-center",children:(0,l.jsx)(d.ZP,{icon:(0,l.jsx)(B.Z,{}),href:"https://github.com/liziyi0914/PalworldServerConfigEditor",children:"Github"})}),(0,l.jsx)("div",{children:(0,l.jsx)(N.Z.TextArea,{placeholder:"\u914D\u7F6E\u6587\u4EF6",value:D,onChange:function(t){return E(t.target.value)}})}),(0,l.jsxs)("div",{className:"py-2 flex justify-center gap-2",children:[(0,l.jsx)(_.Z,{accept:".ini",beforeUpload:function(t){var i=new FileReader;return i.onload=function(e){var a,u=(a=e.target)===null||a===void 0?void 0:a.result;E(u)},i.readAsText(t),_.Z.LIST_IGNORE},children:(0,l.jsx)(d.ZP,{icon:(0,l.jsx)(U.Z,{}),children:"\u4E0A\u4F20"})}),(0,l.jsx)(d.ZP,{onClick:function(){navigator.clipboard.readText().then(function(t){E(t)})},children:"\u7C98\u8D34"}),(0,l.jsx)("div",{className:"flex flex-col justify-center",children:(0,l.jsx)(I.Z,{type:"vertical"})}),(0,l.jsx)(h.CopyToClipboard,{text:D,onCopy:function(){return x.success("\u590D\u5236\u6210\u529F")},children:(0,l.jsx)(d.ZP,{children:"\u590D\u5236"})}),(0,l.jsx)(d.ZP,{type:"primary",icon:(0,l.jsx)(w.Z,{}),onClick:function(){var t="PalWorldSettings.ini",i=new Blob([D]),e=document.createElement("a"),a=window.URL.createObjectURL(i);e.href=a,e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(a)},children:"\u4E0B\u8F7D"})]}),(0,l.jsx)("div",{children:(0,l.jsx)(j.Z,{form:v,autoFocus:!1,submitter:!1,layout:"horizontal",labelCol:{span:12},wrapperCol:{span:12},columns:R,onValuesChange:function(t,i){z(i)}})})]})})};b.default=H}}]);
